{"version":3,"sources":["panels/Home.js","popouts/Ask.js","App.js","index.js","vid/ballDraft.webm"],"names":["Home","id","question","fetchedUser","retry","videoRef","useRef","useEffect","current","play","title","ref","width","height","src","videoSample","type","size","level","onClick","Ask","setQuestion","setPopout","useState","valid","setValid","v","h","style","background","top","placeholder","value","onChange","e","target","status","bottom","App","setUser","popout","a","connect","sendPromise","user","fetchData","activePanel","send","ReactDOM","render","document","getElementById","module","exports"],"mappings":"8qBAoDeA,EAzCF,SAAC,GAA0C,IAAxCC,EAAuC,EAAvCA,GAAiBC,GAAsB,EAAnCC,YAAmC,EAAtBD,UAAUE,EAAY,EAAZA,MACpCC,EAAWC,iBAAO,MAQxB,OANAC,qBAAU,WACO,MAAZL,GACHG,EAASG,QAAQC,SAEhB,CAACP,IAGH,kBAAC,IAAD,CAAOD,GAAIA,GACV,kBAAC,IAAD,CAAOS,MAAOR,GACb,kBAAC,IAAD,KACC,2BAAOS,IAAKN,EAAUO,MAAM,OAAOC,OAAO,QACzC,4BAAQC,IAAKC,IAAaC,KAAK,iBAGpB,MAAZd,GACA,kBAAC,IAAD,KACC,kBAAC,IAAD,CAAQe,KAAK,KAAKC,MAAM,IAAIC,QAAS,kBAAMf,MAA3C,6C,QCESgB,EA3BH,SAAC,GAA0C,IAAxClB,EAAuC,EAAvCA,SAAUmB,EAA6B,EAA7BA,YAAaC,EAAgB,EAAhBA,UAAgB,EAC3BC,oBAAS,GADkB,mBAC9CC,EAD8C,KACvCC,EADuC,KASrD,OACC,kBAAC,IAAD,CAAeC,EAAE,SAASC,EAAE,UAC3B,kBAAC,IAAD,CAAYC,MAAO,CAAEC,WAAY,YAChC,kBAAC,IAAD,CAAUC,IAAI,2GAAsBC,YAAa,yCAChDC,MAAO9B,EAAU+B,SAAU,SAAAC,GAAC,OAAIhC,EAAWgC,EAAEC,OAAOH,OACpDI,OAAQZ,EAAQ,QAAU,QAC1Ba,OAAQb,EAAQ,GAAK,kJACtB,kBAAC,IAAD,CAAQR,KAAK,SAASG,QAAS,WAbjCM,EAAqB,MAAZvB,GACO,MAAZA,IACHmB,EAAYnB,GACZoB,EAAU,SAUT,2CCiBWgB,EA7BH,WAAO,IAAD,EACcf,mBAAS,MADvB,mBACVpB,EADU,KACGoC,EADH,OAEehB,mBAAS,MAFxB,mBAEVrB,EAFU,KAEAmB,EAFA,OAGWE,mBAAS,kBAAC,IAAD,CAAeN,KAAK,WAHxC,mBAGVuB,EAHU,KAGFlB,EAHE,KAsBjB,OAjBAf,qBAAU,WAAM,4CACf,4BAAAkC,EAAA,sEAEoBC,IAAQC,YAAY,uBAFxC,OAEOC,EAFP,OAGCL,EAAQK,GACRtB,EAAU,MAJX,4CADe,uBAAC,WAAD,wBAQfuB,KACE,IAEHtC,qBAAU,WACO,MAAZL,GAAmC,MAAfC,GACvBmB,EAAU,kBAAC,EAAD,CAAKpB,SAAUA,EAAUmB,YAAaA,EAAaC,UAAWA,OAEvE,CAACnB,EAAaD,IAGhB,kBAAC,IAAD,CAAM4C,YAAY,OAAON,OAAQA,GAChC,kBAAC,EAAD,CAAMvC,GAAG,OAAOE,YAAaA,EAAaD,SAAUA,EAAUE,MAAO,kBAAIiB,EAAY,WCxBxFqB,IAAQK,KAAK,gBAQbC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,U,mBCjBjDC,EAAOC,QAAU,IAA0B,yC","file":"static/js/main.54d57d22.chunk.js","sourcesContent":["import React, { useRef, useEffect } from \"react\"\nimport PropTypes from 'prop-types';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport './Home.css';\n\nimport videoSample from '../vid/ballDraft.webm';\n\nconst Home = ({ id, fetchedUser, question, retry }) => {\n\tconst videoRef = useRef(null);\n\n\tuseEffect(() => {\n\t\tif (question != null) {\n\t\t\tvideoRef.current.play()\n\t\t}\n\t}, [question]);\n\n\treturn (\n\t\t<Panel id={id}>\n\t\t\t<Group title={question}>\n\t\t\t\t<Div>\n\t\t\t\t\t<video ref={videoRef} width=\"100%\" height=\"auto\">\n\t\t\t\t\t\t<source src={videoSample} type=\"video/webm\" />\n\t\t\t\t\t</video>\n\t\t\t\t</Div>\n\t\t\t\t{question != null &&\n\t\t\t\t\t<Div>\n\t\t\t\t\t\t<Button size=\"xl\" level=\"2\" onClick={() => retry()}>\n\t\t\t\t\t\t\tЕще Раз\n\t\t\t\t</Button>\n\t\t\t\t\t</Div>}\n\t\t\t</Group>\n\t\t</Panel>\n\t);\n}\nHome.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tfetchedUser: PropTypes.shape({\n\t\tphoto_200: PropTypes.string,\n\t\tfirst_name: PropTypes.string,\n\t\tlast_name: PropTypes.string,\n\t\tcity: PropTypes.shape({\n\t\t\ttitle: PropTypes.string,\n\t\t}),\n\t}),\n\tquestion: PropTypes.string,\n\tretry: PropTypes.func.isRequired,\n};\n\nexport default Home;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { PopoutWrapper, FormLayout, Textarea, Button } from '@vkontakte/vkui';\n\n\nconst Ask = ({ question, setQuestion, setPopout }) => {\n\tconst [valid, setValid] = useState(true);\n\tconst submit = () => {\n\t\tsetValid(question != null)\n\t\tif (question != null) {\n\t\t\tsetQuestion(question)\n\t\t\tsetPopout(null)\n\t\t}\n\t}\n\treturn (\n\t\t<PopoutWrapper v=\"center\" h=\"center\" >\n\t\t\t<FormLayout style={{ background: '#232323' }}>\n\t\t\t\t<Textarea top=\"Задайте вопрос шару\" placeholder={\"Я пидор?\"}\n\t\t\t\t\tvalue={question} onChange={e => question = e.target.value}\n\t\t\t\t\tstatus={valid ? 'valid' : 'error'}\n\t\t\t\t\tbottom={valid ? '' : 'Пожалуйста, введите вопрос'} />\n\t\t\t\t<Button type=\"submit\" onClick={() => { submit() }}>Готово</Button>\n\t\t\t</FormLayout>\n\t\t</PopoutWrapper>\n\t);\n}\nAsk.propTypes = {\n\tquestion: PropTypes.string,\n\tsetQuestion: PropTypes.func.isRequired,\n\tsetPopout: PropTypes.func.isRequired,\n};\n\nexport default Ask;\n","import React, { useState, useEffect } from 'react';\nimport connect from '@vkontakte/vk-connect';\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Home from './panels/Home';\nimport Ask from './popouts/Ask';\n\nconst App = () => {\n\tconst [fetchedUser, setUser] = useState(null);\n\tconst [question, setQuestion] = useState(null);\n\tconst [popout, setPopout] = useState(<ScreenSpinner size='large' />);\n\n\tuseEffect(() => {\n\t\tasync function fetchData() {\n\t\t\t// get last roll data here\n\t\t\tconst user = await connect.sendPromise('VKWebAppGetUserInfo');\n\t\t\tsetUser(user);\n\t\t\tsetPopout(null);\n\t\t\t// if user has no roll setPopout(pay)\n\t\t}\n\t\tfetchData();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (question == null && fetchedUser != null) {\n\t\t\tsetPopout(<Ask question={question} setQuestion={setQuestion} setPopout={setPopout} />)\n\t\t}\n\t}, [fetchedUser, question]);\n\n\treturn (\n\t\t<View activePanel=\"home\" popout={popout}>\n\t\t\t<Home id='home' fetchedUser={fetchedUser} question={question} retry={()=>setQuestion(null)}/>\n\t\t</View>\n\t);\n}\n\nexport default App;\n\n","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vk-connect';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK  Mini App\nconnect.send('VKWebAppInit');\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/ballDraft.597a87d4.webm\";"],"sourceRoot":""}