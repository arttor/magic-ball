(this["webpackJsonpmy-mini-app"]=this["webpackJsonpmy-mini-app"]||[]).push([[0],{169:function(e,t,n){e.exports=n(276)},249:function(e,t,n){},276:function(e,t,n){"use strict";n.r(t);n(170),n(197),n(199),n(200),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239);var a=n(0),l=n.n(a),c=n(64),u=n.n(c),o=n(27),r=n.n(o),s=n(65),i=n.n(s),f=n(94),p=n(24),m=n(99),b=n.n(m),d=n(98),v=n.n(d),E=(n(248),n(96)),h=n.n(E),S=n(66),g=n.n(S),j=n(97),O=n.n(j),y=n(38),k=n.n(y),D=(n(249),n(95)),w=n.n(D),P=function(e){var t=e.id,n=(e.left,e.question),c=e.retry,u=e.updateInfo,o=e.debugSetAttemptsZero,r=["\u0434\u0430","\u043d\u0435\u0442","\u0445\u0437"],s=Object(a.useState)(null),i=Object(p.a)(s,2),f=i[0],m=i[1],b=Object(a.useState)(!1),d=Object(p.a)(b,2),v=d[0],E=d[1],S=Object(a.useRef)(null);return Object(a.useEffect)((function(){null!=n&&(S.current.play(),u())}),[n,u]),Object(a.useEffect)((function(){if(null==f){var e=Math.floor(Math.random()*r.length);m(r[e])}}),[f,r]),l.a.createElement(h.a,{id:t},l.a.createElement(O.a,{title:n},l.a.createElement(k.a,{className:"video-container"},l.a.createElement("video",{ref:S,width:"100%",height:"auto",preload:"auto",onEnded:function(){return E(!0)}},l.a.createElement("source",{src:w.a,type:"video/webm"})),null!=f&&v&&l.a.createElement(k.a,{className:"overlay"},f)),null!=n&&l.a.createElement(k.a,null,l.a.createElement(g.a,{size:"xl",level:"2",onClick:function(){m(null),E(!1),c()}},"\u0415\u0449\u0435 \u0420\u0430\u0437")),l.a.createElement(k.a,null,l.a.createElement(g.a,{size:"xl",level:"2",onClick:function(){return o()}},"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043f\u043e\u043f\u044b\u0442\u043a\u0438"))))},A=n(39),x=function(e){var t=e.question,n=e.setQuestion,c=e.setPopout,u=Object(a.useState)(!0),o=Object(p.a)(u,2),r=o[0],s=o[1];return l.a.createElement(A.c,{v:"center",h:"center"},l.a.createElement(A.b,{style:{background:"#232323"}},l.a.createElement(A.d,{top:"\u0417\u0430\u0434\u0430\u0439\u0442\u0435 \u0432\u043e\u043f\u0440\u043e\u0441 \u0448\u0430\u0440\u0443",placeholder:"\u042f \u043f\u0438\u0434\u043e\u0440?",value:t,onChange:function(e){return t=e.target.value},status:r?"valid":"error",bottom:r?"":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u043e\u043f\u0440\u043e\u0441"}),l.a.createElement(A.a,{onClick:function(){s(null!=t),null!=t&&(n(t),c(null))}},"\u0413\u043e\u0442\u043e\u0432\u043e")))},K=function(){var e=Object(a.useState)(10),t=Object(p.a)(e,2),n=t[0],c=t[1],u=Object(a.useState)(null),o=Object(p.a)(u,2),s=o[0],m=o[1],d=Object(a.useState)(null),E=Object(p.a)(d,2),h=E[0],S=E[1],g=Object(a.useState)(l.a.createElement(v.a,{size:"large"})),j=Object(p.a)(g,2),O=j[0],y=j[1];return Object(a.useEffect)((function(){function e(){return(e=Object(f.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.sendPromise("VKWebAppStorageGet",{keys:["count","lastDate"]});case 2:t=e.sent,y(null),n={count:0},console.log(t.keys),console.log(n),t.keys.map((function(e){switch(e.key){case"count":n.count=Number(e.value);break;case"lastDate":n.lastDate=Date(e.value)}})),console.log(n),m(n);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){var e=null==s?10:10-s.count;c(e),null!=s&&e<=0&&alert("Please Pay")}),[s]),Object(a.useEffect)((function(){null==h&&null!=s&&s.count<10&&y(l.a.createElement(x,{question:h,setQuestion:S,setPopout:y}))}),[h,s]),l.a.createElement(b.a,{activePanel:"home",popout:O},l.a.createElement(P,{id:"home",question:h,left:n,retry:function(){S(null)},updateInfo:function(){var e={count:s.count+1,lastDate:new Date};r.a.sendPromise("VKWebAppStorageSet",{key:"count",value:String(e.count)}).then(r.a.sendPromise("VKWebAppStorageSet",{key:"lastDate",value:String(e.lastDate)})).then((function(t){m(e)}))},debugSetAttemptsZero:function(){var e={count:0,lastDate:new Date};r.a.sendPromise("VKWebAppStorageSet",{key:"count",value:String(e.count)}).then(r.a.sendPromise("VKWebAppStorageSet",{key:"lastDate",value:String(e.lastDate)})).then((function(t){m(e),S(null)}),(function(e){return alert("Error: "+e.error_data.error_code)}))}}))};r.a.send("VKWebAppInit"),u.a.render(l.a.createElement(K,null),document.getElementById("root"))},95:function(e,t,n){e.exports=n.p+"static/media/ballDraft.597a87d4.webm"}},[[169,1,2]]]);
//# sourceMappingURL=main.626e1133.chunk.js.map